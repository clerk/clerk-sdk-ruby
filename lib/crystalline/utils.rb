# Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

# typed: false
# frozen_string_literal: true

module Crystalline
  module Utils
    def self.arr?(t)
      if t.instance_of? Crystalline::Array
        return true
      end
      false
    end

    def self.arr_of(t)
      t.inner_type
    end

    def self.hash?(t)
      if t.instance_of? Crystalline::Hash
        return true
      end
      false
    end

    def self.hash_of(t)
      t.value_type
    end

    def self.nilable?(t)
      if t.instance_of? Crystalline::Nilable
        return true
      end
      if t.instance_of? Crystalline::Union
        return t.types.any? { |tt| tt.instance_of? Crystalline::Nilable }
      end
      false
    end

    def self.nilable_of(t)
      
      if nilable? t
        return t.inner_type
      end
      nil
    end

    def self.union?(t)
      return t.instance_of? Crystalline::Union
    end

    def self.get_union_types(t)
      t.types
    end

    def self.boolean?(t)
      t.instance_of? Crystalline::Boolean
    end

    def self.to_boolean(value)
      case value
      when true, false
        value
      else
        raise TypeError, "Cannot convert #{value.inspect} to boolean. The value is of type #{value.class}"
      end
    end
  end
end
