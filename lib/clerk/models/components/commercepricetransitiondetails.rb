# Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

# typed: false
# frozen_string_literal: true


module Clerk
  module Models
    module Components

      class CommercePriceTransitionDetails
        
        include Crystalline::MetadataFields


        field :previous_plan, Models::Components::SchemasCommercePlan, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('previous_plan'), required: true } }

        field :previous_price, Models::Components::BillingPriceResponse, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('previous_price'), required: true } }
        # Unix timestamp (milliseconds) when the new price takes effect.
        field :effective_at, ::Integer, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('effective_at'), required: true } }
        # When the new price takes effect.
        field :effective_mode, Models::Components::EffectiveMode, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('effective_mode'), required: true, 'decoder': Utils.enum_from_string(Models::Components::EffectiveMode, false) } }
        # Whether an immediate charge was made.
        field :charged_immediately, Crystalline::Boolean.new, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('charged_immediately'), required: true } }
        # The status of the previous subscription item after transition.
        field :previous_subscription_item_status, Models::Components::PreviousSubscriptionItemStatus, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('previous_subscription_item_status'), required: true, 'decoder': Utils.enum_from_string(Models::Components::PreviousSubscriptionItemStatus, false) } }
        # The ID of the previous subscription item.
        field :previous_subscription_item_id, ::String, { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('previous_subscription_item_id'), required: true } }
        # Unix timestamp (milliseconds) for the next billing date.
        field :next_billing_date, Crystalline::Nilable.new(::Integer), { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('next_billing_date') } }
        # Amount charged immediately, if any.
        field :immediate_charge, Crystalline::Nilable.new(Models::Components::ImmediateCharge), { 'format_json': { 'letter_case': ::Clerk::Utils.field_name('immediate_charge') } }

        
        def initialize(previous_plan:, previous_price:, effective_at:, effective_mode:, charged_immediately:, previous_subscription_item_status:, previous_subscription_item_id:, next_billing_date: nil, immediate_charge: nil)
          @previous_plan = previous_plan
          @previous_price = previous_price
          @effective_at = effective_at
          @effective_mode = effective_mode
          @charged_immediately = charged_immediately
          @previous_subscription_item_status = previous_subscription_item_status
          @previous_subscription_item_id = previous_subscription_item_id
          @next_billing_date = next_billing_date
          @immediate_charge = immediate_charge
        end

        
        def ==(other)
          return false unless other.is_a? self.class
          return false unless @previous_plan == other.previous_plan
          return false unless @previous_price == other.previous_price
          return false unless @effective_at == other.effective_at
          return false unless @effective_mode == other.effective_mode
          return false unless @charged_immediately == other.charged_immediately
          return false unless @previous_subscription_item_status == other.previous_subscription_item_status
          return false unless @previous_subscription_item_id == other.previous_subscription_item_id
          return false unless @next_billing_date == other.next_billing_date
          return false unless @immediate_charge == other.immediate_charge
          true
        end
      end
    end
  end
end
